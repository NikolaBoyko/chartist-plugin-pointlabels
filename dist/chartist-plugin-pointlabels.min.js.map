{"version":3,"sources":["chartist-plugin-pointlabels.js"],"names":["root","factory","define","amd","Chartist","returnExportsGlobal","exports","module","require","this","window","document","defaultOptions","labelClass","labelOffset","x","y","labelPostfix","textAnchor","align","labelInterpolationFnc","noop","labelPositionCalculation","point","data","bar","left","x1","y2","center","x2","right","plugins","ctPointLabels","options","addPostfix","value","addLabel","position","labelOffsetY","Math","abs","undefined","group","elem","style","text","extend","chart","Line","Bar","on","positonCalculator","type"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,QAAQ,YAAa,SAAUE,GAC7B,MAAQJ,GAAKK,oBAAsBJ,EAAQG,KAEjB,gBAAZE,SAIhBC,OAAOD,QAAUL,EAAQO,QAAQ,aAEjCR,EAAK,kCAAoCC,EAAQG,WAEnDK,KAAM,SAAUL,GA4FhB,MArFC,UAASM,EAAQC,EAAUP,GAC1B,YAEA,IAAIQ,IACFC,WAAY,WACZC,aACEC,EAAG,EACHC,GAAI,IAENC,aAAc,MACdC,WAAY,SACZC,MAAO,SACPC,sBAAuBhB,EAASiB,MAG9BC,GACFC,MAAO,SAASC,GACd,OACET,EAAGS,EAAKT,EACRC,EAAGQ,EAAKR,IAGZS,KACEC,KAAM,SAASF,GACb,OACET,EAAGS,EAAKG,GACRX,EAAGQ,EAAKI,KAGZC,OAAQ,SAASL,GACf,OACET,EAAGS,EAAKG,IAAMH,EAAKM,GAAKN,EAAKG,IAAM,EACnCX,EAAGQ,EAAKI,KAGZG,MAAO,SAASP,GACd,OACET,EAAGS,EAAKM,GACRd,EAAGQ,EAAKI,MAMhBxB,GAAS4B,QAAU5B,EAAS4B,YAC5B5B,EAAS4B,QAAQC,cAAgB,SAASC,GAIxC,QAASC,GAAWC,GAClB,MAAOA,GAAQF,EAAQjB,aAGzB,QAASoB,GAASC,EAAUd,GAK1B,QAASe,KACP,MAAIf,GAAKY,MAAMpB,EAAI,EACVsB,EAAStB,EAAIwB,KAAKC,IAAIP,EAAQpB,YAAYE,GAAK,GAEjDsB,EAAStB,EAAIkB,EAAQpB,YAAYE,EAP1C,GAAIoB,OAAyBM,KAAjBlB,EAAKY,MAAMrB,GAAmBS,EAAKY,MAAMpB,EAClDmB,EAAWX,EAAKY,MAAMrB,GAAK,KAAOoB,EAAWX,EAAKY,MAAMpB,GACzDmB,EAAWX,EAAKY,MAAMpB,IAAMmB,EAAWX,EAAKY,MAAMrB,EAOpDS,GAAKmB,MAAMC,KAAK,QACd7B,EAAGuB,EAASvB,EAAImB,EAAQpB,YAAYC,EACpCC,EAAGuB,IACHM,MAAO,gBAAkBX,EAAQhB,YAChCgB,EAAQrB,YAAYiC,KAAKZ,EAAQd,sBAAsBgB,IAG5D,MAxBAF,GAAU9B,EAAS2C,UAAWnC,EAAgBsB,GAwBvC,SAAuBc,IACxBA,YAAiB5C,GAAS6C,MAAQD,YAAiB5C,GAAS8C,MAC9DF,EAAMG,GAAG,OAAQ,SAAS3B,GACxB,GAAI4B,GAAoB9B,EAAyBE,EAAK6B,OAAS/B,EAAyBE,EAAK6B,MAAMnB,EAAQf,QAAUG,EAAyBE,EAAK6B,KAC/ID,IACFf,EAASe,EAAkB5B,GAAOA,QAO5Cd,OAAQC,SAAUP,GAEbA,EAAS4B,QAAQC","file":"chartist-plugin-pointlabels.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"chartist\"], function (Chartist) {\n      return (root.returnExportsGlobal = factory(Chartist));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"chartist\"));\n  } else {\n    root['Chartist.plugins.ctPointLabels'] = factory(Chartist);\n  }\n}(this, function (Chartist) {\n\n  /**\n   * Chartist.js plugin to display a data label on top of the points in a line chart.\n   *\n   */\n  /* global Chartist */\n  (function(window, document, Chartist) {\n    'use strict';\n\n    var defaultOptions = {\n      labelClass: 'ct-label',\n      labelOffset: {\n        x: 0,\n        y: -10\n      },\n      labelPostfix: ' CÂ°',\n      textAnchor: 'middle',\n      align: 'center',\n      labelInterpolationFnc: Chartist.noop\n    };\n\n    var labelPositionCalculation = {\n      point: function(data) {\n        return {\n          x: data.x,\n          y: data.y\n        };\n      },\n      bar: {\n        left: function(data) {\n          return {\n            x: data.x1,\n            y: data.y2\n          };\n        },\n        center: function(data) {\n          return {\n            x: data.x1 + (data.x2 - data.x1) / 2,\n            y: data.y2\n          };\n        },\n        right: function(data) {\n          return {\n            x: data.x2,\n            y: data.y2\n          };\n        }\n      }\n    };\n\n    Chartist.plugins = Chartist.plugins || {};\n    Chartist.plugins.ctPointLabels = function(options) {\n\n      options = Chartist.extend({}, defaultOptions, options);\n\n      function addPostfix(value) {\n        return value + options.labelPostfix;\n      }\n\n      function addLabel(position, data) {\n        // if x and y exist concat them otherwise output only the existing value\n        var value = data.value.x !== undefined && data.value.y ?\n          (addPostfix(data.value.x) + ', ' + addPostfix(data.value.y)) :\n          addPostfix(data.value.y) || addPostfix(data.value.x);\n        function labelOffsetY() {\n          if (data.value.y < 0) {\n            return position.y + Math.abs(options.labelOffset.y) + 10;\n          }\n          return position.y + options.labelOffset.y;\n        }\n        data.group.elem('text', {\n          x: position.x + options.labelOffset.x,\n          y: labelOffsetY(),\n          style: 'text-anchor: ' + options.textAnchor\n        }, options.labelClass).text(options.labelInterpolationFnc(value));\n      }\n\n      return function ctPointLabels(chart) {\n        if (chart instanceof Chartist.Line || chart instanceof Chartist.Bar) {\n          chart.on('draw', function(data) {\n            var positonCalculator = labelPositionCalculation[data.type] && labelPositionCalculation[data.type][options.align] || labelPositionCalculation[data.type];\n            if (positonCalculator) {\n              addLabel(positonCalculator(data), data);\n            }\n          });\n        }\n      };\n    };\n\n  }(window, document, Chartist));\n\n  return Chartist.plugins.ctPointLabels;\n\n}));\n"]}